
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2017-12-07
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>BiPACE and BiPACE2D Peak Alignment | Maltcms</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/spacelab/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="../css/bootswatch.css" rel="stylesheet" />
		<link href="../css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/default.min.css" rel="stylesheet" />

		<link href="../css/lightbox.css" rel="stylesheet" />

		<link href="../css/site.css" rel="stylesheet" />
		<link href="../css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->



	</head>

	<body class="page-documentation-bipace2d project-maltcms-modules" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="http://sf.net/p/maltcms">Maltcms</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="http://maltcms.sf.net" title="Maltcms@sf.net" class="externalLink">Maltcms@sf.net</a></li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Maltcms <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../index.html" title="About Maltcms">About Maltcms</a></li>
									<li ><a href="../releaseNotes.html" title="Release Notes">Release Notes</a></li>
									<li ><a href="../gettingStarted.html" title="Getting Started">Getting Started</a></li>
									<li class="dropdown-submenu ">
										<a href="index.html" title="Documentation">Documentation</a>
										<ul class="dropdown-menu">
											<li ><a href="workflowConfiguration.html" title="Workflow Configuration">Workflow Configuration</a></li>
											<li ><a href="fragmentCommands.html" title="Available Commands">Available Commands</a></li>
											<li class="active"><a href="" title="BiPACE and BiPACE 2D">BiPACE and BiPACE 2D</a></li>
											<li ><a href="metaboliteDb.html" title="Metabolite Database">Metabolite Database</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="development/index.html" title="Development">Development</a>
										<ul class="dropdown-menu">
											<li ><a href="development/maven.html" title="Maven">Maven</a></li>
											<li ><a href="development/customWorkflowElements.html" title="Custom Workflow Elements">Custom Workflow Elements</a></li>
										</ul>
									</li>
									<li ><a href="../modules.html" title="Modules">Modules</a></li>
									<li ><a href="http://sourceforge.net/p/maltcms/wiki/Home/" title="Wiki" class="externalLink">Wiki</a></li>
									<li ><a href="https://sourceforge.net/projects/maltcms/support" title="Support" class="externalLink">Support</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="http://maltcms.sf.net" id="bannerLeft"><img src="../images/ChromA4DSurface.png" alt='"'Maltcms'"' /></a>
					<p class="lead">The Modular Application Toolkit for Chromatography-Mass Spectrometry</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li><a href="../index.html" title="Home">Home</a></li>
				<li class="divider">/</li>
				<li>BiPACE and BiPACE2D Peak Alignment</li>
				<li class="publishDate version-date pull-right">Last Published: 2017-12-07</li>
				<li class="divider pull-right">|</li>
				<li class="projectVersion version-date pull-right">Version: 1.4.0</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="section"> 
 <div class="page-header">
  <h2 id="BiPACE_and_BiPACE2D_Peak_Alignment">BiPACE and BiPACE2D Peak Alignment</h2>
 </div> 
 <p>Before continuing, please check that <a href="../gettingStarted.html">Maltcms is correctly installed and working</a>!</p> 
 <div class="section"> 
  <h3 id="Converting_ChromaTOF_peak_lists_to_netCDF_format">Converting ChromaTOF peak lists to netCDF format</h3> 
  <ul> 
   <li>Download the latest release of the <a class="externalLink" href="http://maltcms.sf.net/maui">Maltcms User Interface Maui</a></li> 
   <li>Install the application and create a new project</li> 
   <li>Select the ChromaTOF peak reports as your ‘Data Files’</li> 
   <li>Assign groups to your peak reports</li> 
   <li>Set the ‘Separation Type’ to GCxGC</li> 
   <li>Set the ‘Detector Type’ to TOF-MS (for Leco Pegasus IV data)</li> 
   <li>Select ‘Override’ and set ‘Modulation Time’ and ‘Scan Rate’ according to your setup</li> 
   <li>Finish the wizard and wait for the import to complete</li> 
   <li>The converted files are now below the project’s directory, below <tt>import/ChromaTofPeakListImporter</tt> and a time stamp indicating the date and time of the import.</li> 
  </ul> 
 </div> 
 <div class="section"> 
  <h3 id="Setting_parameters">Setting parameters</h3> 
  <p>Good starting parameters for BiPACE2D are <tt>D1=stdev(t1)</tt>, <tt>D2=stdev(t2)</tt>, effectively the expected standard deviation in the first and second retention time, and <tt>T1=0.0</tt> and <tt>T2=0.0</tt>, as the retention time matching thresholds to control the number of false positives. Peaks with peak retention time deviations resulting in a function value of the Gaussian retention penalty term (function value ranges between <tt>0</tt> and <tt>1</tt>) below the given threshold (<tt>T1</tt> or <tt>T2</tt>) are removed from further consideration.</p> 
  <p>The minimum clique size parameter only influences the output of BiPACE2D, so it is a simple filter to select only cliques that match or exceed the given parameter value. As the similarity function, the weighted cosine has proven to be both fast and precise.</p> 
  <p>BiPACE2D is included in the Maltcms software framework that is available from <a class="externalLink" href="http://maltcms.sf.net">the Maltcms Website</a>. After downloading and extracting the Maltcms distribution, the directory structure contains a folder termed <tt>cfg</tt>. Below that folder, the <tt>pipelines/xml</tt> folder contains the definition of various pipelines that can be executed with Maltcms. The folder <tt>pipelines</tt> contains one <tt>.mpl</tt> properties file (maltcms pipe line) for each xml-based pipeline definition in the <tt>xml</tt> folder. The configuration file <tt>bipace2D.xml</tt> contains the configuration information for the parameters used by BiPACE2D.</p> 
  <p>These include, as direct parameters of the bean tag element with id <tt>peakCliqueAlignment</tt>:</p> 
  <ul> 
   <li><tt>MCS=minCliqueSize</tt> - the minimum clique size to be reported in the multiple alignment</li> 
   <li><tt>saveUnmatchedPeaks</tt> - whether peaks without a best hit should be saved to an MSP compatible file</li> 
   <li><tt>saveUnassignedPeaks</tt> - whether peaks that are not a part of a biclique or bidirectional best hit should be saved to an MSP compatible file</li> 
   <li><tt>saveIncompatiblePeaks</tt> - whether peaks that were not mergeable into larger cliques should be saved to an MSP compatible file</li> 
  </ul> 
  <p>Other parameters are configured in other bean tags, that are referenced by their id in the <tt>peakCliqueAlignment</tt> tag.</p> 
  <p>Array Similarity (referenced in bean with id <tt>timePenalizedProductSimilarity</tt>), one of:</p> 
  <ul> 
   <li><tt>dotSimilarity</tt> - dot product similarity</li> 
   <li><tt>cosineSimilarity</tt> - cosine similarity</li> 
   <li><tt>linCorrSimilarity</tt> - Pearson’s linear correlation coefficient</li> 
   <li><tt>weightedCosineSimilarity</tt> - weighted cosine similarity</li> 
  </ul> 
  <p>Retention Time Penalties (referenced in bean with id <tt>timePenalizedProductSimilarity</tt>):</p> 
  <ul> 
   <li>first rt dimension: bean with id <tt>gaussianDifferenceSimilarityRt1</tt>: 
    <ul> 
     <li><tt>D1=tolerance</tt> - the retention time tolerance in the first separation dimension</li> 
     <li><tt>T1=threshold</tt> - the retention time tolerance threshold in the first separation dimension</li> 
    </ul></li> 
   <li>second rt dimension: bean with id <tt>gaussianDifferenceSimilarityRt2</tt>: 
    <ul> 
     <li><tt>D2=tolerance</tt> - the retention time tolerance in the second separation dimension</li> 
     <li><tt>T2=threshold</tt> - the retention time tolerance threshold in the second separation dimension</li> 
    </ul></li> 
  </ul> 
  <p>Maximum search range for first and second column retention times (in bean with id <tt>worker2DFactory</tt>):</p> 
  <ul> 
   <li><tt>maxRTDifferenceRt1</tt> - maximum retention time difference on first column to include in comparison, usually <tt>=2*D1</tt></li> 
   <li><tt>maxRTDifferenceRt2</tt> - maximum retention time difference on second column to include in comparison, usually <tt>=2*D2</tt></li> 
  </ul> 
 </div> 
 <div class="section"> 
  <h3 id="Running_BiPACE2D">Running BiPACE2D</h3> 
  <p>Change to the directory where you extracted the downloaded Maltcms version and run:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>&gt; bin/maltcms.sh -f path/to/converted/files/*.cdf -c cfg/pipelines/chroma2D.mpl
</pre> 
   </div> 
  </div> 
  <p>The program will start up and print its progress to the terminal. When it is finished, it will have created a folder <tt>maltcmsOutput</tt> below which the results are stored.</p> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#BiPACE_and_BiPACE2D_Peak_Alignment" title="BiPACE and BiPACE2D Peak Alignment">BiPACE and BiPACE2D Peak Alignment <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Converting_ChromaTOF_peak_lists_to_netCDF_format" title="Converting ChromaTOF peak lists to netCDF format">Converting ChromaTOF peak lists to netCDF format</a>
		<li><a href="#Setting_parameters" title="Setting parameters">Setting parameters</a>
		<li><a href="#Running_BiPACE2D" title="Running BiPACE2D">Running BiPACE2D</a>
				<li class="divider"></li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span4 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Maltcms</li>
						<li >
							<a href="../index.html" title="About Maltcms">About Maltcms</a>
						</li>
						<li >
							<a href="../releaseNotes.html" title="Release Notes">Release Notes</a>
						</li>
						<li >
							<a href="../gettingStarted.html" title="Getting Started">Getting Started</a>
						</li>
						<li >
							<a href="index.html" title="Documentation">Documentation <i class="icon-chevron-down"></i></a>
							<ul class="nav nav-list">
						<li >
							<a href="workflowConfiguration.html" title="Workflow Configuration">Workflow Configuration</a>
						</li>
						<li >
							<a href="fragmentCommands.html" title="Available Commands">Available Commands</a>
						</li>
						<li class="active">
							<a href="#" title="BiPACE and BiPACE 2D">BiPACE and BiPACE 2D</a>
						</li>
						<li >
							<a href="metaboliteDb.html" title="Metabolite Database">Metabolite Database</a>
						</li>
							</ul>
						</li>
						<li >
							<a href="development/index.html" title="Development">Development <i class="icon-chevron-right"></i></a>
						</li>
						<li >
							<a href="../modules.html" title="Modules">Modules</a>
						</li>
						<li >
							<a href="http://sourceforge.net/p/maltcms/wiki/Home/" title="Wiki" class="externalLink">Wiki</a>
						</li>
						<li >
							<a href="https://sourceforge.net/projects/maltcms/support" title="Support" class="externalLink">Support</a>
						</li>
					</ul>
				</div>
				<div class="span5 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Project Documentation</li>
						<li >
							<a href="../project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>Maltcms is the Modular Application Toolkit for Chromatography-Mass Spectrometry.</blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2007-2017. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="../js/lightbox.min.js"></script>
	<script src="../js/reflow-scroll.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="../js/reflow-skin.js"></script>

	</body>
</html>
